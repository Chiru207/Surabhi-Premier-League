*{box-sizing:border-box}
body{font-family:system-ui,Arial,Helvetica,sans-serif;margin:0;background:#0f172a;color:#e2e8f0;font-size:16px;line-height:1.5}
header{padding:12px 16px;background:#111827;position:sticky;top:0;z-index:1}
header h2{font-size:20px;margin:0;word-break:break-word}
.banner{background:#1e293b;border-bottom:2px solid #334155;padding:12px 16px;position:sticky;top:60px;z-index:999;overflow:hidden}
.banner-title{font-size:14px;font-weight:600;margin-bottom:8px;color:#cbd5e1}
.banner-captains{display:flex;gap:12px;flex-wrap:wrap;width:100%}
.banner-captain{background:#0f172a;border:1px solid #334155;border-radius:8px;padding:8px 12px;min-width:160px;flex:1 1 auto;max-width:100%}
.banner-captain-name{font-weight:600;color:#60a5fa;margin-bottom:4px;font-size:14px}
.banner-captain-stat{font-size:12px;color:#94a3b8;margin:2px 0;display:flex;justify-content:space-between}
.banner-captain-stat strong{color:#e2e8f0}
main{padding:16px;max-width:1000px;margin:0 auto;width:100%}
.card{background:#111827;border:1px solid #1f2937;border-radius:14px;padding:16px;margin:12px 0}
.card h3{font-size:18px;margin:0 0 12px 0}
.card h4{font-size:16px;margin:0 0 8px 0}
.row{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-start}
.row-center{align-items:center}
.row-between{justify-content:space-between}
.btn{background:#2563eb;border:0;color:white;padding:10px 14px;border-radius:10px;cursor:pointer;font-size:14px;min-height:44px;touch-action:manipulation}
.btn:hover{background:#1d4ed8}
.btn:active{transform:scale(0.98)}
.btn.alt{background:#334155}
.btn.alt:hover{background:#475569}
.btn.danger{background:#b91c1c}
.btn.danger:hover{background:#991b1b}
.input{padding:10px;border-radius:10px;border:1px solid #334155;background:#0b1220;color:#e2e8f0;width:100%;font-size:16px;min-height:44px}
.input:focus{outline:2px solid #2563eb;outline-offset:2px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.tag{display:inline-block;padding:4px 8px;border-radius:999px;background:#0b1220;border:1px solid #334155;color:#cbd5e1;margin-right:6px;font-size:12px;white-space:nowrap}
.counter{font-variant-numeric:tabular-nums}
.photo{width:100%;height:180px;object-fit:cover;border-radius:12px;border:1px solid #334155;background:#0b1220}
.photo-container{flex-shrink:0}
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:1000;padding:16px}
.modal.active{display:flex}
.modal-box{background:#0b1220;border:1px solid #334155;border-radius:14px;padding:24px;max-width:420px;width:100%;box-shadow:0 20px 25px -5px rgba(0,0,0,0.3);max-height:90vh;overflow-y:auto}
.modal-title{font-size:20px;font-weight:600;margin-bottom:12px;color:#e2e8f0}
.modal-body{margin-bottom:16px;color:#cbd5e1;line-height:1.6}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:16px;flex-wrap:wrap}
.qr-container{display:inline-block;padding:8px;background:white;border-radius:8px;margin:8px 0}
.qr-container canvas{display:block;max-width:100%;height:auto}

/* Mobile First - Small screens (phones) */
@media (max-width: 640px) {
  body{font-size:14px}
  header{padding:10px 12px}
  header h2{font-size:18px}
  .banner{padding:10px 12px;top:50px}
  .banner-title{font-size:12px}
  .banner-captain{min-width:calc(50% - 6px);padding:6px 10px;flex:0 0 calc(50% - 6px);max-width:calc(50% - 6px);width:calc(50% - 6px)}
  .banner-captain-name{font-size:12px}
  .banner-captain-stat{font-size:11px}
  main{padding:12px}
  .card{padding:12px;margin:8px 0;border-radius:12px}
  .card h3{font-size:16px}
  .card h4{font-size:14px}
  .row{gap:8px;flex-direction:column!important}
  .row > div[style*="min-width"]{min-width:100%!important;max-width:100%!important;width:100%!important}
  .row > div[style*="max-width:200px"]{max-width:100%!important;width:100%!important}
  .row.row-between{flex-direction:row;justify-content:space-between}
  .btn{padding:12px 16px;font-size:14px;width:100%}
  .btn.alt{width:auto}
  .input{padding:12px;font-size:16px}
  .input[style*="max-width"]{max-width:100%!important;width:100%!important}
  .grid{grid-template-columns:1fr;gap:8px}
  .tag{font-size:11px;padding:3px 6px}
  .photo{height:150px}
  .modal-box{padding:20px;max-width:95%}
  .modal-title{font-size:18px}
  .modal-actions{flex-direction:column}
  .modal-actions .btn{width:100%}
  .qr-container{padding:6px}
  .qr-container canvas{width:100px;height:100px}
}

/* Tablet screens */
@media (min-width: 641px) and (max-width: 1024px) {
  main{padding:14px}
  .card{padding:14px}
  .grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px}
  .banner-captain{min-width:140px;flex:1 1 calc(50% - 6px);max-width:calc(50% - 6px)}
  .modal-box{max-width:500px}
}

/* Large screens */
@media (min-width: 1025px) {
  main{max-width:1200px}
  .grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
}

/* TV-size screens - fit all captain boxes in one row */
@media (min-width: 1920px) {
  .banner-captain{flex:0 0 auto;min-width:180px;max-width:none;width:auto}
  .banner-captains{flex-wrap:nowrap;justify-content:center}
}

/* Very small screens (small phones) */
@media (max-width: 480px) {
  header h2{font-size:16px}
  .banner-captain{min-width:calc(50% - 6px);padding:5px 8px;flex:0 0 calc(50% - 6px);max-width:calc(50% - 6px);width:calc(50% - 6px)}
  .banner-captain-name{font-size:11px}
  .banner-captain-stat{font-size:10px}
  .card{padding:10px}
  .card h3{font-size:15px}
  .btn{padding:10px 14px;font-size:13px}
  .photo{height:120px}
  .modal-box{padding:16px}
  .modal-title{font-size:16px}
  .row > div[style*="min-width"]{min-width:100%!important;max-width:100%!important}
}

/* Landscape orientation on mobile */
@media (max-width: 896px) and (orientation: landscape) {
  .banner{top:50px}
  .modal-box{max-height:85vh}
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .btn{min-height:48px;padding:12px 16px}
  .input{min-height:48px;padding:12px}
}

/* Text overflow handling */
h2,h3,h4{word-wrap:break-word;overflow-wrap:break-word}
header h2{overflow:hidden;text-overflow:ellipsis}

/* Better spacing on all devices */
@media (max-width: 1024px) {
  .row > *{flex:1 1 auto}
  .row > button{flex:0 1 auto}
}

/* Ensure buttons don't shrink too much */
@media (max-width: 640px) {
  .row.row-between > button{flex:0 0 auto;min-width:auto}
  .row.row-between > h3{flex:1 1 auto;min-width:0}
}

